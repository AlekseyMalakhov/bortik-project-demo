(this["webpackJsonpbortik-project"]=this["webpackJsonpbortik-project"]||[]).push([[0],{71:function(e,n,t){"use strict";t.r(n);var i=t(0),r=t.n(i),c=t(20),a=t.n(c),o=t(3),d={primaryColor:"#3d5afe",primaryLightColor:"#8187ff",primaryDarkColor:"#0031ca",primaryTextColor:"#ffffff",greyBackground:"#E1E2E1",lightGreyBackground:"#F5F5F6"},s=t(6),l=t(24),u=t(23),j=t.n(u),b=t(35),p=t(17),f=t(36),x="https://bortik-project.herokuapp.com/api",g=t.n(f).a.create({baseURL:x}),h={getItems:function(){return g.post("/getItems").then((function(e){if(200===e.status)return e.data;console.log("error")})).catch((function(e){console.log(e.message)}))}},m=Object(p.b)("manage/getItems",function(){var e=Object(b.a)(j.a.mark((function e(n){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getItems();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),O=Object(p.c)({name:"manage",initialState:{sideBarOpened:!0,screenWidth:0,mobileScreen:!0,items:null,categories:[],loading:!0,selectedCategory:null,cart:[]},reducers:{changeSideBarOpened:function(e,n){e.sideBarOpened=n.payload},setScreenWidth:function(e,n){e.screenWidth=n.payload},setMobileScreen:function(e,n){e.mobileScreen=n.payload},setItems:function(e,n){e.items=n.payload},setCategories:function(e,n){e.categories=n.payload},setSelectedCategory:function(e,n){e.selectedCategory=n.payload},addItemToCart:function(e,n){var t=Object(l.a)(e.cart),i=t.findIndex((function(e){return e.id===n.payload.id}));-1!==i?t[i]=n.payload:t.push(n.payload),e.cart=t},removeItemFromCart:function(e,n){var t=Object(l.a)(e.cart);if(-1!==t.findIndex((function(e){return e.id===n.payload.id}))){var i=t.filter((function(e){return e.id!==n.payload.id}));e.cart=i}}},extraReducers:function(e){e.addCase(m.pending,(function(e){e.loading=!0})).addCase(m.fulfilled,(function(e,n){e.loading=!1,n.payload&&(e.items=n.payload.items,e.categories=n.payload.categories,e.selectedCategory=n.payload.categories[0].name),console.log(n.payload)}))}}),v=O.actions,y=v.changeSideBarOpened,w=v.setScreenWidth,C=v.setMobileScreen,S=v.setSelectedCategory,k=v.addItemToCart,B=v.removeItemFromCart,z=O.reducer,I=t(1),E=o.a.div({marginLeft:"10px",display:"flex",justifyContent:"center",alignItems:"center",width:"42px",height:"42px",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.1)",borderRadius:"20px"}});var A=function(e){var n=e.onClick;return Object(I.jsx)(E,{onClick:n,children:Object(I.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"white",viewBox:"0 0 16 16",children:Object(I.jsx)("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"})})})},R=o.a.div({display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:d.primaryColor,height:"50px"}),W=o.a.div({color:"white",marginRight:"20px",fontSize:"20px"});var M=function(){var e=Object(s.b)(),n=Object(s.c)((function(e){return e.manage.sideBarOpened}));return Object(I.jsxs)(R,{children:[Object(I.jsx)(A,{onClick:function(){e(y(!n))}}),Object(I.jsx)(W,{children:"Bortik Project"})]})},F=t(8),L=o.a.div({height:"14px",width:"14px",borderRadius:"7px",backgroundColor:"yellow",position:"absolute",top:"5px",right:"0px",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"10px"});var D=function(e){var n=e.numberInCart;return Object(I.jsx)(L,{children:n})},T=o.a.div((function(e){var n=e.selected;return{position:"relative",width:"100%",padding:"10px 10px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",cursor:"pointer",backgroundColor:n?"rgba(0, 0, 0, 0.2)":"",borderRadius:n?"5px":"","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.1)",borderRadius:"5px"}}})),H=o.a.div({textAlign:"center",fontSize:"14px",fontWeight:"500"});var G=function(e){var n=e.category,t=Object(s.b)(),r=(Object(s.c)((function(e){return e.manage.mobileScreen})),Object(s.c)((function(e){return e.manage.selectedCategory}))),c=Object(s.c)((function(e){return e.manage.cart})),a=Object(i.useState)(0),o=Object(F.a)(a,2),d=o[0],l=o[1];return Object(i.useEffect)((function(){var e=c.filter((function(e){return e.category===n.name}));l(e.length)}),[c]),Object(I.jsxs)(T,{selected:n.name===r,onClick:function(){return e=n.name,void t(S(e));var e},children:[Object(I.jsx)(H,{children:n.name}),d>0?Object(I.jsx)(D,{numberInCart:d}):null]})},J=o.a.div((function(e){return{backgroundColor:d.greyBackground,width:"170px",minWidth:"170px",marginLeft:e.sideBarOpened?"0px":"-170px",transition:"margin-left 0.5s",overflow:"auto",overflowX:"hidden"}})),X=o.a.div({marginTop:"10px",textAlign:"center",fontSize:"20px",fontWeight:"500"}),K=o.a.div({margin:"10px 10px",display:"flex",flexDirection:"column",alignItems:"center"});var N,P=function(){var e=Object(s.c)((function(e){return e.manage.sideBarOpened})),n=Object(s.c)((function(e){return e.manage.mobileScreen})),t=Object(s.c)((function(e){return e.manage.categories}));return Object(I.jsxs)(J,{sideBarOpened:e,mobileScreen:n,children:[Object(I.jsx)(X,{children:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"}),Object(I.jsx)(K,{children:t?t.map((function(e){return Object(I.jsx)(G,{category:e},e.id)})):null})]})},U=t(10),q=t(2),Q=t(12),V=Object(o.a)(Q.a)(N||(N=Object(U.a)(["\n    width: 36px;\n    height: 36px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 0;\n    &:focus {\n        outline: none;\n        box-shadow: none;\n    }\n"])));var Y,Z=function(e){var n=e.icon,t=e.onClick;return"plus"===n?Object(I.jsx)(V,{variant:"primary",onClick:t,children:Object(I.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"white",viewBox:"0 0 16 16",children:[Object(I.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(I.jsx)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})]})}):"minus"===n?Object(I.jsx)(V,{variant:"primary",onClick:t,children:Object(I.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"white",viewBox:"0 0 16 16",children:[Object(I.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(I.jsx)("path",{d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"})]})}):void 0},$=t(39),_=o.a.div({display:"flex",justifyContent:"center",marginRight:"10px",marginLeft:"10px"}),ee=Object(o.a)($.a.Control)(Y||(Y=Object(U.a)(["\n    width: 70px;\n    margin: auto 10px;\n"])));var ne=function(e){var n=e.item,t=e.inCart,r=Object(s.b)(),c=Object(i.useState)(0),a=Object(F.a)(c,2),o=a[0],d=a[1];Object(i.useEffect)((function(){t&&d(t.number)}),[t]);var l=function(e){var t=Object(q.a)(Object(q.a)({},n),{},{number:e});r(k(t))};return Object(I.jsxs)(_,{children:[Object(I.jsx)(Z,{icon:"minus",onClick:function(){return o-1>0?(d(o-1),void l(o-1)):o-1===0?(d(0),void r(B(n))):void 0}}),Object(I.jsx)(ee,{onChange:function(e){var t=function(e){var n=e.replace(/[^\d]/g,"");return Number.parseInt(n)}(e.target.value);if(t>=0&&(d(t),l(t)),""!==e.target.value)return 0===t?(d(0),void r(B(n))):void 0;d("")},value:o,onFocus:function(e){return e.target.select()},onKeyDown:function(e){"Enter"===e.key&&e.target.blur()},inputMode:"numeric",onBlur:function(){""===o&&(d(0),r(B(n)))}}),Object(I.jsx)(Z,{icon:"plus",onClick:function(){d(o+1),l(o+1)}})]})},te=t(37),ie=t(38),re=t(14),ce=o.a.div({position:"absolute",right:"20px"});var ae,oe,de,se,le=function(){return Object(I.jsx)(ce,{children:Object(I.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"#54cc91",viewBox:"0 0 16 16",children:Object(I.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"})})})},ue=Object(o.a)(te.a)(ae||(ae=Object(U.a)(["\n    position: relative;\n    background-color: white;\n    margin: 10px 10px;\n    padding: 10px 10px;\n    max-width: 1200px;\n"]))),je=Object(o.a)(ie.a)(oe||(oe=Object(U.a)(["\n    justify-content: center;\n    align-items: center;\n"]))),be=Object(o.a)(re.a)(de||(de=Object(U.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 14px;\n    padding: 10px 10px;\n    text-align: center;\n"]))),pe=Object(o.a)(re.a)(se||(se=Object(U.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    font-size: 14px;\n    padding: 10px 10px;\n    text-align: center;\n    min-width: 250px;\n"]))),fe=o.a.div((function(e){var n=e.sideBarOpened,t=e.mobileScreen;return{display:n&&t?"none":"flex",justifyContent:"center"}})),xe=o.a.div({backgroundColor:"#69F0AE",padding:"2px 5px",borderRadius:"3px"}),ge=o.a.div({fontSize:"12px"});var he,me=function(e){var n=e.item,t=Object(s.b)(),r=Object(s.c)((function(e){return e.manage.sideBarOpened})),c=Object(s.c)((function(e){return e.manage.mobileScreen})),a=Object(s.c)((function(e){return e.manage.cart})),o=Object(i.useState)(!1),d=Object(F.a)(o,2),l=d[0],u=d[1];return Object(i.useEffect)((function(){if(a.length>0){var e=a.find((function(e){return e.id===n.id}));u(e||!1)}else u(!1)}),[a]),Object(I.jsxs)(ue,{onClick:function(){c&&t(y(!1))},children:[l?Object(I.jsx)(le,{}):null,Object(I.jsxs)(je,{children:[n.img?Object(I.jsx)(re.a,{xs:"auto",children:Object(I.jsx)("img",{src:n.img,alt:"",width:"100",height:"100"})}):null,Object(I.jsx)(be,{style:{fontWeight:"500"},xs:12,sm:12,md:5,children:n.title}),Object(I.jsxs)(pe,{sm:12,md:3,children:[Object(I.jsxs)(xe,{children:["\u0426\u0435\u043d\u0430 \u0441 \u041d\u0414\u0421 ",n.price," \u0440\u0443\u0431"]}),r&&c?null:Object(I.jsxs)("div",{children:[Object(I.jsxs)("div",{children:["\u0426\u0435\u043d\u0430 \u0431\u0435\u0437 \u041d\u0414\u0421 ",n.priceopt," \u0440\u0443\u0431"]}),Object(I.jsxs)("div",{children:[Object(I.jsxs)("div",{children:["\u0426\u0435\u043d\u0430 \u0431\u0435\u0437 \u041d\u0414\u0421 ",n.pricemegaopt," \u0440\u0443\u0431*"]}),Object(I.jsx)(ge,{children:"*(\u043f\u0440\u0438 \u043e\u0431\u0449\u0435\u0439 \u0441\u0443\u043c\u043c\u0435 \u0437\u0430\u043a\u0430\u0437\u0430 \u043e\u0442 250 \u0440\u0443\u0431)"})]})]})]}),Object(I.jsx)(fe,{sideBarOpened:r,mobileScreen:c,children:Object(I.jsx)(be,{xs:"auto",sm:2,children:Object(I.jsx)(ne,{item:n,inCart:l})})})]})]})},Oe=o.a.div((function(e){e.sideBarOpened,e.mobileScreen;return{display:"flex",width:"100%",overflow:"auto",overflowX:"hidden",flexDirection:"column",alignItems:"center",backgroundColor:d.lightGreyBackground,padding:"10px 10px"}})),ve=o.a.div({margin:"30px 10px"}),ye=Object(o.a)(Q.a)(he||(he=Object(U.a)(["\n    margin-top: 20px;\n    margin-bottom: 50px;\n    &:focus {\n        outline: none;\n        box-shadow: none;\n    }\n"])));var we,Ce=function(){var e=Object(i.useState)(20),n=Object(F.a)(e,2),t=n[0],r=n[1],c=Object(s.c)((function(e){return e.manage.items})),a=Object(s.c)((function(e){return e.manage.sideBarOpened})),o=Object(s.c)((function(e){return e.manage.mobileScreen})),d=Object(s.c)((function(e){return e.manage.selectedCategory}));return Object(i.useEffect)((function(){r(20)}),[c,d]),c&&d?Object(I.jsxs)(Oe,{sideBarOpened:a,mobileScreen:o,children:[c[d].length>0?c[d].map((function(e,n){return n<=t?Object(I.jsx)(me,{item:e},e.id):null})):Object(I.jsx)(ve,{children:"\u041d\u0435\u0442 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0432 \u0434\u0430\u043d\u043d\u043e\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"}),t<c[d].length?Object(I.jsx)(ye,{variant:"primary",size:o?"sm":"",onClick:function(){r(t+20)},children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435"}):null]}):null},Se=o.a.div((function(e){var n=e.sideBarOpened,t=e.mobileScreen;return{position:"absolute",bottom:"0",height:t?"40px":"80px",backgroundColor:"#ededed",left:t?"0":n?"170px":"0",transition:"left 0.5s",right:"0",display:"flex",justifyContent:"space-between",alignItems:"center"}})),ke=Object(o.a)(Q.a)(we||(we=Object(U.a)(["\n    margin-left: 50px;\n    &:focus {\n        outline: none;\n        box-shadow: none;\n    }\n"]))),Be=o.a.div((function(e){return{textAlign:"center",fontSize:e.mobileScreen?"18px":"25px",fontWeight:"600",marginRight:"30px"}}));var ze=function(){var e=Object(s.c)((function(e){return e.manage.sideBarOpened})),n=Object(s.c)((function(e){return e.manage.mobileScreen})),t=Object(s.c)((function(e){return e.manage.cart})),r=Object(i.useState)(0),c=Object(F.a)(r,2),a=c[0],o=c[1];return Object(i.useEffect)((function(){if(t.length>0){var e=function(e){for(var n=0,t=0;t<e.length;t++)n+=e[t].price*e[t].number;return n}(t);o(e)}0===t.length&&o(0)}),[t]),Object(I.jsxs)(Se,{sideBarOpened:e,mobileScreen:n,children:[Object(I.jsx)(ke,{variant:"primary",size:n?"sm":"",children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c"}),Object(I.jsxs)(Be,{mobileScreen:n,children:[a.toFixed(2)," \u0440\u0443\u0431"]})]})},Ie=Object(p.a)({reducer:{manage:z}}),Ee=function(){var e=function(){return window.screen.width<window.innerWidth?window.screen.width:window.innerWidth},n=e();Ie.dispatch(w(n));var t=function(){e()<650?Ie.dispatch(C(!0)):Ie.dispatch(C(!1))};t(),window.onresize=function(){t();var n=e();Ie.dispatch(w(n))}},Ae=o.a.div({height:"100%"}),Re=o.a.div({position:"absolute",top:"50px",bottom:"0px",display:"flex",width:"100%"});var We=function(){var e=Object(s.b)();return Object(i.useEffect)((function(){Ee(),e(m())}),[]),Object(I.jsxs)(Ae,{children:[Object(I.jsx)(M,{}),Object(I.jsxs)(Re,{children:[Object(I.jsx)(P,{}),Object(I.jsx)(Ce,{})]}),Object(I.jsx)(ze,{})]})};a.a.render(Object(I.jsx)(r.a.StrictMode,{children:Object(I.jsx)(s.a,{store:Ie,children:Object(I.jsx)(We,{})})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.127afdb1.chunk.js.map